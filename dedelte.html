<<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Feminizer - Advanced Progressive Training Platform</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <style>
    /* ===== CSS VARIABLES & ROOT STYLES ===== */
    :root {
      /* Primary Theme Colors */
      --primary: #FF6B9D;
      --primary-light: #FFE1EC;
      --primary-dark: #E55A8C;
      --secondary: #F8F9FA;
      --accent: #9B59B6;
      --accent-light: #E8D5F2;
      
      /* Text Colors */
      --text: #2D3748;
      --text-light: #718096;
      --text-muted: #A0AEC0;
      
      /* UI Colors */
      --border: #E2E8F0;
      --success: #48BB78;
      --warning: #ED8936;
      --error: #F56565;
      --info: #4299E1;
      --background: #FFFFFF;
      --surface: #F7FAFC;
      
      /* Shadows & Effects */
      --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
      --shadow-lg: 0 8px 25px rgba(0, 0, 0, 0.15);
      --shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.2);
      --radius: 12px;
      --radius-sm: 6px;
      --radius-lg: 16px;
      
      /* Progress Colors */
      --feminization: #FF69B4;
      --obedience: #DC143C;
      --exposure: #1E90FF;
      --hypno: #32CD32;
      
      /* Transitions */
      --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* Dark Theme Variables */
    [data-theme="dark"] {
      --primary: #FF8FB3;
      --primary-light: #4A1A2E;
      --secondary: #1A202C;
      --text: #F7FAFC;
      --text-light: #CBD5E0;
      --text-muted: #718096;
      --border: #2D3748;
      --background: #2D3748;
      --surface: #1A202C;
    }

    /* Chastity Theme */
    [data-theme="chastity"] {
      --primary: #8B0000;
      --primary-light: #FFE4E1;
      --accent: #DC143C;
      --accent-light: #FFCCCB;
    }

    /* Hypno Theme */
    [data-theme="hypno"] {
      --primary: #9370DB;
      --primary-light: #E6E6FA;
      --accent: #8A2BE2;
      --accent-light: #DDA0DD;
    }

    /* ===== BASE STYLES ===== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--secondary);
      color: var(--text);
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      overflow-x: hidden;
    }

    .container {
      max-width: 428px;
      margin: 0 auto;
      background: var(--background);
      min-height: 100vh;
      position: relative;
      box-shadow: var(--shadow-lg);
    }

    /* ===== HEADER STYLES ===== */
    .header {
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      color: white;
      padding: 20px 24px;
      text-align: center;
      position: sticky;
      top: 0;
      z-index: 100;
      backdrop-filter: blur(10px);
    }

    .header-content {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 16px;
    }

    .profile-avatar {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      background: var(--accent);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      font-weight: bold;
      cursor: pointer;
      transition: var(--transition);
    }

    .profile-avatar:hover {
      transform: scale(1.1);
    }

    .profile-info h1 {
      font-size: 20px;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .profile-level {
      font-size: 14px;
      opacity: 0.9;
      background: rgba(255, 255, 255, 0.2);
      padding: 4px 12px;
      border-radius: 20px;
      display: inline-block;
    }

    .header-actions {
      display: flex;
      gap: 12px;
    }

    .header-btn {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.2);
      border: none;
      color: white;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: var(--transition);
    }

    .header-btn:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: translateY(-2px);
    }

    /* ===== NAVIGATION STYLES ===== */
    .nav {
      background: var(--background);
      padding: 0 16px;
      border-bottom: 1px solid var(--border);
      position: sticky;
      top: 84px;
      z-index: 99;
      overflow-x: auto;
      scrollbar-width: none;
      -ms-overflow-style: none;
    }

    .nav::-webkit-scrollbar {
      display: none;
    }

    .nav-tabs {
      display: flex;
      gap: 0;
      min-width: max-content;
    }

    .nav-tab {
      flex: 1;
      padding: 12px 16px;
      text-align: center;
      color: var(--text-light);
      text-decoration: none;
      font-size: 12px;
      font-weight: 500;
      border-bottom: 2px solid transparent;
      transition: var(--transition);
      white-space: nowrap;
      min-width: 80px;
      position: relative;
      cursor: pointer;
    }

    .nav-tab:hover {
      color: var(--primary);
      background: var(--primary-light);
    }

    .nav-tab.active {
      color: var(--primary);
      border-bottom-color: var(--primary);
      background: var(--primary-light);
    }

    .nav-tab.has-notification::after {
      content: '';
      position: absolute;
      top: 8px;
      right: 8px;
      width: 8px;
      height: 8px;
      background: var(--error);
      border-radius: 50%;
      animation: pulse 2s infinite;
    }

    /* ===== CONTENT STYLES ===== */
    .content {
      padding: 24px;
      min-height: calc(100vh - 200px);
    }

    .section {
      display: none;
      animation: fadeIn 0.4s ease-out;
    }

    .section.active {
      display: block;
    }

    @keyframes fadeIn {
      from { 
        opacity: 0; 
        transform: translateY(20px); 
      }
      to { 
        opacity: 1; 
        transform: translateY(0); 
      }
    }

    .card {
      background: var(--background);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      margin-bottom: 20px;
      overflow: hidden;
      border: 1px solid var(--border);
      transition: var(--transition);
    }

    .card:hover {
      box-shadow: var(--shadow-lg);
      transform: translateY(-2px);
    }

    .card-header {
      padding: 20px 20px 0;
      border-bottom: none;
    }

    .card-body {
      padding: 20px;
    }

    .card-title {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 12px;
      color: var(--text);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .card-subtitle {
      font-size: 14px;
      color: var(--text-light);
      margin-bottom: 16px;
    }

    /* ===== PROGRESS BAR STYLES ===== */
    .progress-container {
      margin-bottom: 24px;
    }

    .progress-info {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }

    .level-badge {
      background: var(--primary-light);
      color: var(--primary);
      padding: 6px 16px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .xp-text {
      font-size: 14px;
      color: var(--text-light);
      font-weight: 500;
    }

    .progress-bar {
      height: 12px;
      background: var(--border);
      border-radius: 6px;
      overflow: hidden;
      position: relative;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--primary), var(--primary-dark));
      border-radius: 6px;
      transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
    }

    .progress-fill::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      animation: shimmer 2s infinite;
    }

    @keyframes shimmer {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }

    /* ===== SISSY PROGRESS STYLES ===== */
    .sissy-progress {
      display: grid;
      gap: 16px;
      margin-bottom: 24px;
    }

    .progress-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 16px;
      background: var(--surface);
      border-radius: var(--radius);
      border: 1px solid var(--border);
      transition: var(--transition);
    }

    .progress-item:hover {
      background: var(--primary-light);
      border-color: var(--primary);
    }

    .progress-icon {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      flex-shrink: 0;
    }

    .progress-icon.feminization {
      background: linear-gradient(135deg, var(--feminization), #FF1493);
      color: white;
    }

    .progress-icon.obedience {
      background: linear-gradient(135deg, var(--obedience), #B22222);
      color: white;
    }

    .progress-icon.exposure {
      background: linear-gradient(135deg, var(--exposure), #0066CC);
      color: white;
    }

    .progress-icon.hypno {
      background: linear-gradient(135deg, var(--hypno), #228B22);
      color: white;
    }

    .progress-content {
      flex: 1;
    }

    .progress-label {
      font-weight: 600;
      margin-bottom: 4px;
      color: var(--text);
    }

    .progress-bar-sissy {
      height: 8px;
      background: var(--border);
      border-radius: 4px;
      overflow: hidden;
      margin-bottom: 4px;
    }

    .progress-fill-sissy {
      height: 100%;
      border-radius: 4px;
      transition: width 0.8s ease;
    }

    .progress-fill-sissy.feminization {
      background: linear-gradient(90deg, var(--feminization), #FF1493);
    }

    .progress-fill-sissy.obedience {
      background: linear-gradient(90deg, var(--obedience), #B22222);
    }

    .progress-fill-sissy.exposure {
      background: linear-gradient(90deg, var(--exposure), #0066CC);
    }

    .progress-fill-sissy.hypno {
      background: linear-gradient(90deg, var(--hypno), #228B22);
    }

    .progress-percentage {
      font-size: 12px;
      color: var(--text-light);
      font-weight: 500;
    }

    /* ===== STATS GRID STYLES ===== */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 16px;
      margin-bottom: 24px;
    }

    .stat-card {
      background: var(--background);
      padding: 20px;
      border-radius: var(--radius);
      text-align: center;
      box-shadow: var(--shadow);
      border: 1px solid var(--border);
      transition: var(--transition);
      position: relative;
      overflow: hidden;
    }

    .stat-card:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-lg);
    }

    .stat-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--primary), var(--accent));
    }

    .stat-number {
      font-size: 28px;
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 4px;
      animation: countUp 1s ease-out;
    }

    .stat-label {
      font-size: 12px;
      color: var(--text-light);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      font-weight: 500;
    }

    .stat-icon {
      position: absolute;
      top: 16px;
      right: 16px;
      opacity: 0.1;
      font-size: 24px;
    }

    @keyframes countUp {
      from { 
        transform: scale(0.5);
        opacity: 0;
      }
      to { 
        transform: scale(1);
        opacity: 1;
      }
    }

    /* ===== DAYS LOCKED STYLES ===== */
    .days-locked-counter {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px 0;
    }

    .counter-icon {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 36px;
      margin-bottom: 16px;
      box-shadow: var(--shadow-lg);
      animation: pulse 2s infinite;
    }

    .counter-number {
      font-size: 48px;
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 8px;
    }

    .counter-label {
      font-size: 16px;
      color: var(--text-light);
      font-weight: 500;
    }

    /* Calendar Styles */
    .calendar-nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 16px;
    }

    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 4px;
      margin-bottom: 16px;
    }

    .calendar-day-header {
      text-align: center;
      font-weight: 600;
      font-size: 12px;
      color: var(--text-light);
      padding: 8px 4px;
    }

    .calendar-day {
      aspect-ratio: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: var(--radius-sm);
      border: 1px solid var(--border);
      font-size: 12px;
      font-weight: 500;
      cursor: pointer;
      transition: var(--transition);
      position: relative;
      min-height: 32px;
    }

    .calendar-day:hover {
      border-color: var(--primary);
      background: var(--primary-light);
    }

    .calendar-day.empty {
      border: none;
      cursor: default;
    }

    .calendar-day.locked {
      background: var(--primary-light);
      border-color: var(--primary);
      color: var(--primary);
      position: relative;
    }

    .calendar-day.locked::after {
      content: 'ðŸ”’';
      font-size: 8px;
      position: absolute;
      top: 1px;
      right: 1px;
    }

    .calendar-day.current {
      background: var(--primary);
      color: white;
      border-color: var(--primary-dark);
      box-shadow: var(--shadow);
    }

    .calendar-legend {
      display: flex;
      justify-content: center;
      gap: 16px;
      margin-top: 16px;
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .legend-color {
      width: 16px;
      height: 16px;
      border-radius: 4px;
      border: 1px solid var(--border);
    }

    .legend-color.locked {
      background: var(--primary-light);
      border-color: var(--primary);
    }

    .legend-color.current {
      background: var(--primary);
      border-color: var(--primary-dark);
    }

    .legend-label {
      font-size: 12px;
      color: var(--text-light);
    }

    /* ===== ACHIEVEMENT STYLES ===== */
    .achievement-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 16px;
      margin-bottom: 24px;
    }

    .achievement-card {
      background: var(--background);
      border: 2px solid var(--border);
      border-radius: var(--radius);
      padding: 16px;
      text-align: center;
      transition: var(--transition);
      position: relative;
      overflow: hidden;
    }

    .achievement-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
      transform: translateX(-100%);
      transition: transform 0.6s;
    }

    .achievement-card.unlocked::before {
      transform: translateX(100%);
    }

    .achievement-card.unlocked {
      border-color: var(--success);
      background: linear-gradient(135deg, #F0FFF4, #E6FFFA);
      animation: achievementUnlock 0.6s ease;
    }

    @keyframes achievementUnlock {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    .achievement-icon {
      font-size: 32px;
      margin-bottom: 8px;
      display: block;
    }

    .achievement-card.unlocked .achievement-icon {
      animation: bounce 1s ease;
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    .achievement-title {
      font-size: 12px;
      font-weight: 600;
      margin-bottom: 4px;
      color: var(--text);
    }

    .achievement-desc {
      font-size: 10px;
      color: var(--text-light);
      line-height: 1.3;
    }

    .achievement-progress {
      margin-top: 8px;
      height: 4px;
      background: var(--border);
      border-radius: 2px;
      overflow: hidden;
    }

    .achievement-progress-fill {
      height: 100%;
      background: var(--success);
      transition: width 0.5s ease;
    }

    /* ===== BUTTON STYLES ===== */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 12px 24px;
      border: none;
      border-radius: var(--radius-sm);
      font-size: 16px;
      font-weight: 500;
      cursor: pointer;
      transition: var(--transition);
      text-decoration: none;
      min-height: 48px;
      gap: 8px;
      position: relative;
      overflow: hidden;
    }

    .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: left 0.5s;
    }

    .btn:hover::before {
      left: 100%;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      color: white;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-lg);
    }

    .btn-sm {
      padding: 8px 16px;
      font-size: 14px;
      min-height: 36px;
    }

    /* ===== NOTIFICATION STYLES ===== */
    .notification-container {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1000;
      max-width: 300px;
    }

    .notification {
      background: var(--background);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 16px;
      margin-bottom: 12px;
      box-shadow: var(--shadow-lg);
      animation: notificationSlide 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    @keyframes notificationSlide {
      from {
        opacity: 0;
        transform: translateX(100%);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    .notification::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 4px;
      height: 100%;
      background: var(--primary);
    }

    .notification.success::before {
      background: var(--success);
    }

    .notification-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 8px;
    }

    .notification-title {
      font-weight: 600;
      font-size: 14px;
      color: var(--text);
    }

    .notification-close {
      background: none;
      border: none;
      color: var(--text-light);
      cursor: pointer;
      padding: 0;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: var(--transition);
    }

    .notification-close:hover {
      background: var(--border);
      color: var(--text);
    }

    .notification-content {
      font-size: 13px;
      color: var(--text-light);
    }

    /* ===== STATUS BAR STYLES ===== */
    .status-bar {
      position: sticky;
      bottom: 0;
      background: var(--background);
      border-top: 1px solid var(--border);
      padding: 16px 24px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      z-index: 98;
    }

    .status-item {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 12px;
      border-radius: var(--radius-sm);
      transition: var(--transition);
      cursor: pointer;
      flex: 1;
      justify-content: center;
    }

    .status-item:hover {
      background: var(--surface);
    }

    .status-icon {
      font-size: 16px;
      color: var(--text-light);
    }

    .status-label {
      font-size: 12px;
      color: var(--text-light);
      font-weight: 500;
    }

    .status-value {
      font-size: 12px;
      font-weight: 600;
      color: var(--text);
    }

    .status-indicator {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      margin-left: 4px;
    }

    .status-indicator.active {
      background: var(--success);
      animation: pulse 2s infinite;
    }

    .status-indicator.inactive {
      background: var(--error);
    }

    @keyframes pulse {
      0% { opacity: 1; }
      50% { opacity: 0.5; }
      100% { opacity: 1; }
    }

    /* ===== RESPONSIVE DESIGN ===== */
    @media (max-width: 375px) {
      .content {
        padding: 16px;
      }
      
      .header {
        padding: 16px 20px;
      }

      .nav-tab {
        font-size: 11px;
        padding: 10px 12px;
        min-width: 70px;
      }

      .stats-grid {
        grid-template-columns: 1fr;
        gap: 12px;
      }

      .achievement-grid {
        grid-template-columns: 1fr;
      }

      .status-bar {
        padding: 12px 16px;
      }

      .status-item {
        flex-direction: column;
        gap: 4px;
      }

      .btn {
        font-size: 14px;
        padding: 10px 20px;
        min-height: 44px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <header class="header">
      <div class="header-content">
        <div class="profile-avatar" id="profileAvatar">B</div>
        <div class="profile-info">
          <h1 id="profileName">Bonnie</h1>
          <div class="profile-level" id="profileLevel">Beginner (Level 1)</div>
        </div>
        <div class="header-actions">
          <button class="header-btn" id="notificationsBtn" title="Notifications">
            <i class="fas fa-bell"></i>
          </button>
          <button class="header-btn" id="settingsBtn" title="Settings">
            <i class="fas fa-cog"></i>
          </button>
        </div>
      </div>
    </header>

    <!-- Navigation -->
    <nav class="nav">
      <div class="nav-tabs">
        <a href="#" class="nav-tab active" data-section="dashboard">
          <i class="fas fa-home"></i> Dashboard
        </a>
        <a href="#" class="nav-tab" data-section="dayslocked">
          <i class="fas fa-lock"></i> Days Locked
        </a>
        <a href="#" class="nav-tab" data-section="tasks">
          <i class="fas fa-tasks"></i> Tasks
        </a>
        <a href="#" class="nav-tab" data-section="achievements">
          <i class="fas fa-trophy"></i> Achievements
        </a>
        <a href="#" class="nav-tab" data-section="profile">
          <i class="fas fa-user"></i> Profile
        </a>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="content">
      <!-- Dashboard Section -->
      <section id="dashboard" class="section active">
        <!-- Stats Grid -->
        <div class="stats-grid">
          <div class="stat-card">
            <i class="fas fa-star stat-icon"></i>
            <div class="stat-number" id="totalXP">0</div>
            <div class="stat-label">Total XP</div>
          </div>
          <div class="stat-card">
            <i class="fas fa-level-up-alt stat-icon"></i>
            <div class="stat-number" id="currentLevel">1</div>
            <div class="stat-label">Level</div>
          </div>
          <div class="stat-card">
            <i class="fas fa-check-circle stat-icon"></i>
            <div class="stat-number" id="tasksCompleted">0</div>
            <div class="stat-label">Tasks Done</div>
          </div>
          <div class="stat-card">
            <i class="fas fa-fire stat-icon"></i>
            <div class="stat-number" id="dayStreak">0</div>
            <div class="stat-label">Day Streak</div>
          </div>
        </div>

        <!-- Overall Progress -->
        <div class="card">
          <div class="card-body">
            <div class="progress-container">
              <div class="progress-info">
                <span class="level-badge" id="levelBadge">Beginner</span>
                <span class="xp-text" id="xpProgress">0 / 100 XP</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill" id="progressFill" style="width: 0%"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- Sissy Progress -->
        <div class="card">
          <div class="card-header">
            <h2 class="card-title">
              <i class="fas fa-chart-line"></i>
              Progress Overview
            </h2>
          </div>
          <div class="card-body">
            <div class="sissy-progress">
              <div class="progress-item">
                <div class="progress-icon feminization">
                  <i class="fas fa-venus"></i>
                </div>
                <div class="progress-content">
                  <div class="progress-label">Feminization</div>
                  <div class="progress-bar-sissy">
                    <div class="progress-fill-sissy feminization" style="width: 0%"></div>
                  </div>
                  <div class="progress-percentage">0%</div>
                </div>
              </div>
              
              <div class="progress-item">
                <div class="progress-icon obedience">
                  <i class="fas fa-heart"></i>
                </div>
                <div class="progress-content">
                  <div class="progress-label">Obedience</div>
                  <div class="progress-bar-sissy">
                    <div class="progress-fill-sissy obedience" style="width: 0%"></div>
                  </div>
                  <div class="progress-percentage">0%</div>
                </div>
              </div>
              
              <div class="progress-item">
                <div class="progress-icon exposure">
                  <i class="fas fa-eye"></i>
                </div>
                <div class="progress-content">
                  <div class="progress-label">Exposure</div>
                  <div class="progress-bar-sissy">
                    <div class="progress-fill-sissy exposure" style="width: 0%"></div>
                  </div>
                  <div class="progress-percentage">0%</div>
                </div>
              </div>
              
              <div class="progress-item">
                <div class="progress-icon hypno">
                  <i class="fas fa-brain"></i>
                </div>
                <div class="progress-content">
                  <div class="progress-label">Hypno Compliance</div>
                  <div class="progress-bar-sissy">
                    <div class="progress-fill-sissy hypno" style="width: 0%"></div>
                  </div>
                  <div class="progress-percentage">0%</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Days Locked Section -->
      <section id="dayslocked" class="section">
        <!-- Days Locked Counter Card -->
        <div class="card">
          <div class="card-header">
            <h2 class="card-title">
              <i class="fas fa-lock"></i>
              Days Locked Counter
            </h2>
          </div>
          <div class="card-body">
            <!-- Counter Display -->
            <div class="days-locked-counter">
              <div class="counter-icon">
                <i class="fas fa-lock"></i>
              </div>
              <div class="counter-number" id="daysLockedCount">0</div>
              <div class="counter-label">Days Locked</div>
            </div>
            
            <!-- Current Streak -->
            <div class="progress-container">
              <div class="progress-info">
                <span class="level-badge" id="streakBadge">Current Streak</span>
                <span class="xp-text" id="streakProgress">0 days</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill" id="streakProgressFill" style="width: 0%"></div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Calendar View Card -->
        <div class="card">
          <div class="card-header">
            <h2 class="card-title">
              <i class="fas fa-calendar-alt"></i>
              Lock Calendar
            </h2>
          </div>
          <div class="card-body">
            <!-- Month Navigation -->
            <div class="calendar-nav">
              <button class="btn btn-sm" id="prevMonth">
                <i class="fas fa-chevron-left"></i>
              </button>
              <h3 id="currentMonth">June 2025</h3>
              <button class="btn btn-sm" id="nextMonth">
                <i class="fas fa-chevron-right"></i>
              </button>
            </div>
            
            <!-- Calendar Grid -->
            <div class="calendar-grid" id="calendarGrid">
              <!-- Calendar will be populated by JavaScript -->
            </div>
            
            <!-- Calendar Legend -->
            <div class="calendar-legend">
              <div class="legend-item">
                <div class="legend-color locked"></div>
                <div class="legend-label">Locked</div>
              </div>
              <div class="legend-item">
                <div class="legend-color current"></div>
                <div class="legend-label">Current Day</div>
              </div>
              <div class="legend-item">
                <div class="legend-color"></div>
                <div class="legend-label">Unlocked</div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Statistics Card -->
        <div class="card">
          <div class="card-header">
            <h2 class="card-title">
              <i class="fas fa-chart-bar"></i>
              Lock Statistics
            </h2>
          </div>
          <div class="card-body">
            <div class="stats-grid">
              <div class="stat-card">
                <i class="fas fa-lock stat-icon"></i>
                <div class="stat-number" id="totalDaysLocked">0</div>
                <div class="stat-label">Total Days</div>
              </div>
              <div class="stat-card">
                <i class="fas fa-fire stat-icon"></i>
                <div class="stat-number" id="currentStreak">0</div>
                <div class="stat-label">Current Streak</div>
              </div>
              <div class="stat-card">
                <i class="fas fa-trophy stat-icon"></i>
                <div class="stat-number" id="longestStreak">0</div>
                <div class="stat-label">Longest Streak</div>
              </div>
              <div class="stat-card">
                <i class="fas fa-calendar-check stat-icon"></i>
                <div class="stat-number" id="lockPercentage">0%</div>
                <div class="stat-label">Year Locked</div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Milestones Card -->
        <div class="card">
          <div class="card-header">
            <h2 class="card-title">
              <i class="fas fa-medal"></i>
              Lock Milestones
            </h2>
          </div>
          <div class="card-body">
            <div class="achievement-grid" id="lockMilestones">
              <div class="achievement-card" data-milestone="1">
                <div class="achievement-icon">ðŸ”’</div>
                <div class="achievement-title">First Day</div>
                <div class="achievement-desc">Locked for 1 day</div>
              </div>
              <div class="achievement-card" data-milestone="7">
                <div class="achievement-icon">ðŸ”’</div>
                <div class="achievement-title">One Week</div>
                <div class="achievement-desc">Locked for 7 days</div>
              </div>
              <div class="achievement-card" data-milestone="30">
                <div class="achievement-icon">ðŸ”’</div>
                <div class="achievement-title">One Month</div>
                <div class="achievement-desc">Locked for 30 days</div>
              </div>
              <div class="achievement-card" data-milestone="90">
                <div class="achievement-icon">ðŸ”’</div>
                <div class="achievement-title">Three Months</div>
                <div class="achievement-desc">Locked for 90 days</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Lock Controls -->
        <div class="card">
          <div class="card-header">
            <h2 class="card-title">
              <i class="fas fa-cogs"></i>
              Lock Controls
            </h2>
          </div>
          <div class="card-body">
            <div style="text-align: center;">
              <button class="btn btn-primary" id="startLockBtn" style="margin: 10px;">
                <i class="fas fa-lock"></i>
                Start Lock
              </button>
              <button class="btn btn-primary" id="endLockBtn" style="margin: 10px; display: none;">
                <i class="fas fa-unlock"></i>
                End Lock
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- Tasks Section -->
      <section id="tasks" class="section">
        <div class="card">
          <div class="card-header">
            <h2 class="card-title">
              <i class="fas fa-tasks"></i>
              Daily Tasks
            </h2>
          </div>
          <div class="card-body">
            <p>Task management will be implemented here.</p>
          </div>
        </div>
      </section>

      <!-- Achievements Section -->
      <section id="achievements" class="section">
        <div class="card">
          <div class="card-header">
            <h2 class="card-title">
              <i class="fas fa-trophy"></i>
              Achievements
            </h2>
          </div>
          <div class="card-body">
            <p>Achievement system will be implemented here.</p>
          </div>
        </div>
      </section>

      <!-- Profile Section -->
      <section id="profile" class="section">
        <div class="card">
          <div class="card-header">
            <h2 class="card-title">
              <i class="fas fa-user"></i>
              Profile Settings
            </h2>
          </div>
          <div class="card-body">
            <p>Profile management will be implemented here.</p>
          </div>
        </div>
      </section>
    </main>

    <!-- Status Bar -->
    <div class="status-bar">
      <div class="status-item" id="horninessStatus">
        <i class="fas fa-fire status-icon"></i>
        <div>
          <div class="status-label">Horniness</div>
          <div class="status-value">Low</div>
        </div>
      </div>
      <div class="status-item" id="chastityStatus">
        <i class="fas fa-lock status-icon"></i>
        <div>
          <div class="status-label">Chastity</div>
          <div class="status-value">Off <span class="status-indicator inactive"></span></div>
        </div>
      </div>
      <div class="status-item" id="plugStatus">
        <i class="fas fa-circle status-icon"></i>
        <div>
          <div class="status-label">Plug</div>
          <div class="status-value">Out <span class="status-indicator inactive"></span></div>
        </div>
      </div>
      <div class="status-item" id="alertsStatus">
        <i class="fas fa-bell status-icon"></i>
        <div>
          <div class="status-label">Alerts</div>
          <div class="status-value">0</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Notification Container -->
  <div class="notification-container" id="notificationContainer"></div>

  <!-- JavaScript -->
  <script>
    // ===== APPLICATION STATE =====
    let appState = {
      // User Profile
      profile: {
        name: 'Bonnie',
        avatar: 'B',
        level: 1,
        title: 'Beginner',
        bio: 'Starting my transformation journey! ðŸ’•',
        joinDate: new Date(),
        isPublic: true,
        showProgress: true,
        allowMessages: false
      },

      // Progress Data
      progress: {
        xp: 0,
        totalXP: 0,
        level: 1,
        nextLevelXP: 100,
        feminization: 0,
        obedience: 0,
        exposure: 0,
        hypnoCompliance: 0
      },

      // Statistics
      stats: {
        tasksCompleted: 0,
        dayStreak: 0,
        totalSessions: 0,
        totalHours: 0,
        completionRate: 0,
        achievementsUnlocked: 0
      },

      // Days Locked State
      daysLocked: {
        isLocked: false,
        startDate: null,
        endDate: null,
        currentStreak: 0,
        longestStreak: 0,
        totalDaysLocked: 0,
        lockedDays: new Set(),
        milestones: {
          1: false,
          7: false,
          30: false,
          90: false
        }
      },

      // Tasks
      tasks: {
        daily: [],
        completed: new Set(),
        pending: [],
        overdue: []
      },

      // Achievements
      achievements: {
        unlocked: new Set(),
        progress: new Map()
      },

      // Settings
      settings: {
        theme: 'default',
        animations: true,
        soundEffects: false,
        vibrations: false,
        notifications: {
          daily: true,
          achievements: true,
          community: false,
          progress: true,
          time: '20:00'
        }
      }
    };

    // ===== LEVEL SYSTEM =====
    const levelSystem = {
      levels: [
        { name: "Curious", xp: 0, title: "Beginner" },
        { name: "Exploring", xp: 100, title: "Explorer" },
        { name: "Committed", xp: 300, title: "Committed" },
        { name: "Devoted", xp: 600, title: "Devoted" },
        { name: "Sissy", xp: 1000, title: "True Sissy" },
        { name: "Slut", xp: 1500, title: "Sissy Slut" },
        { name: "Whore", xp: 2000, title: "Sissy Whore" },
        { name: "BIMBO", xp: 2500, title: "Real BIMBO" },
        { name: "GODDESS", xp: 3000, title: "Sissy Goddess" }
      ],

      getCurrentLevel(xp) {
        for (let i = this.levels.length - 1; i >= 0; i--) {
          if (xp >= this.levels[i].xp) {
            return { ...this.levels[i], index: i };
          }
        }
        return { ...this.levels[0], index: 0 };
      },

      getNextLevel(currentIndex) {
        return currentIndex < this.levels.length - 1 ? this.levels[currentIndex + 1] : null;
      }
    };

    // ===== CALENDAR STATE =====
    let calendarState = {
      currentYear: new Date().getFullYear(),
      currentMonth: new Date().getMonth()
    };

    // ===== UTILITY FUNCTIONS =====
    function saveData(key, value) {
      try {
        localStorage.setItem(key, JSON.stringify(value));
        return true;
      } catch (error) {
        console.error('Error saving data:', error);
        return false;
      }
    }

    function loadData(key, defaultValue) {
      try {
        const data = localStorage.getItem(key);
        return data ? JSON.parse(data) : defaultValue;
      } catch (error) {
        console.error('Error loading data:', error);
        return defaultValue;
      }
    }

    function showSection(sectionId) {
      // Update URL hash
      if (history.pushState) {
        history.pushState(null, null, '#' + sectionId);
      } else {
        window.location.hash = sectionId;
      }

      // Hide all sections and deactivate all tabs
      document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
      document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
      
      // Show target section and activate corresponding tab
      const targetSection = document.getElementById(sectionId);
      const targetTab = document.querySelector(`[data-section="${sectionId}"]`);
      
      if (targetSection && targetTab) {
        targetSection.classList.add('active');
        targetTab.classList.add('active');
        
        // Trigger section-specific updates
        switch(sectionId) {
          case 'dashboard':
            updateDashboard();
            break;
          case 'dayslocked':
            updateDaysLockedTab();
            break;
          case 'tasks':
            updateTasks();
            break;
          case 'achievements':
            updateAchievements();
            break;
          case 'profile':
            updateProfile();
            break;
        }
      }
    }

    function showNotification(options) {
      const container = document.getElementById('notificationContainer');
      const notification = document.createElement('div');
      
      notification.className = `notification ${options.type || 'info'}`;
      notification.innerHTML = `
        <div class="notification-header">
          <div class="notification-title">${options.title || 'Notification'}</div>
          <button class="notification-close" onclick="this.parentElement.parentElement.remove()">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="notification-content">${options.message}</div>
      `;
      
      container.appendChild(notification);
      
      // Auto remove after duration
      if (options.duration) {
        setTimeout(() => {
          if (notification.parentElement) {
            notification.remove();
          }
        }, options.duration);
      }
    }

    function addXP(amount, reason = '') {
      const oldLevel = levelSystem.getCurrentLevel(appState.progress.xp);
      appState.progress.xp += amount;
      appState.progress.totalXP += amount;
      
      const newLevel = levelSystem.getCurrentLevel(appState.progress.xp);
      
      // Check for level up
      if (newLevel.index > oldLevel.index) {
        appState.progress.level = newLevel.index + 1;
        showNotification({
          title: 'Level Up!',
          message: `Congratulations! You've reached ${newLevel.title} (Level ${newLevel.index + 1})`,
          type: 'success',
          duration: 8000
        });
      }
      
      // Update UI
      updateStats();
      updateProgress();
      
      // Save state
      saveAppState();
    }

    function updateStats() {
      // Update stat displays
      document.getElementById('totalXP').textContent = appState.progress.totalXP.toLocaleString();
      document.getElementById('currentLevel').textContent = appState.progress.level;
      document.getElementById('tasksCompleted').textContent = appState.stats.tasksCompleted;
      document.getElementById('dayStreak').textContent = appState.stats.dayStreak;
      
      // Update profile level display
      const currentLevel = levelSystem.getCurrentLevel(appState.progress.xp);
      document.getElementById('profileLevel').textContent = `${currentLevel.title} (Level ${currentLevel.index + 1})`;
    }

    function updateProgress() {
      const currentLevel = levelSystem.getCurrentLevel(appState.progress.xp);
      const nextLevel = levelSystem.getNextLevel(currentLevel.index);
      
      document.getElementById('levelBadge').textContent = currentLevel.title;
      
      if (nextLevel) {
        const progress = ((appState.progress.xp - currentLevel.xp) / (nextLevel.xp - currentLevel.xp)) * 100;
        document.getElementById('progressFill').style.width = Math.min(progress, 100) + '%';
        document.getElementById('xpProgress').textContent = `${appState.progress.xp} / ${nextLevel.xp} XP`;
      } else {
        document.getElementById('progressFill').style.width = '100%';
        document.getElementById('xpProgress').textContent = 'Maximum level reached';
      }
      
      // Update sissy progress bars
      document.querySelector('.progress-fill-sissy.feminization').style.width = appState.progress.feminization + '%';
      document.querySelector('.progress-fill-sissy.obedience').style.width = appState.progress.obedience + '%';
      document.querySelector('.progress-fill-sissy.exposure').style.width = appState.progress.exposure + '%';
      document.querySelector('.progress-fill-sissy.hypno').style.width = appState.progress.hypnoCompliance + '%';
      
      // Update percentage displays
      document.querySelectorAll('.progress-percentage')[0].textContent = appState.progress.feminization + '%';
      document.querySelectorAll('.progress-percentage')[1].textContent = appState.progress.obedience + '%';
      document.querySelectorAll('.progress-percentage')[2].textContent = appState.progress.exposure + '%';
      document.querySelectorAll('.progress-percentage')[3].textContent = appState.progress.hypnoCompliance + '%';
    }

    function updateDashboard() {
      updateStats();
      updateProgress();
    }

    // ===== DAYS LOCKED FUNCTIONS =====
    function updateDaysLockedTab() {
      calculateDaysLocked();
      updateDaysLockedCounter();
      renderCalendar();
      updateLockStatistics();
      updateLockMilestones();
    }

    function calculateDaysLocked() {
      if (!appState.daysLocked.isLocked || !appState.daysLocked.startDate) {
        return;
      }

      const startDate = new Date(appState.daysLocked.startDate);
      const endDate = appState.daysLocked.endDate ? new Date(appState.daysLocked.endDate) : new Date();
      
      // Calculate total days locked
      const diffTime = Math.abs(endDate - startDate);
      const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
      appState.daysLocked.totalDaysLocked = diffDays;
      appState.daysLocked.currentStreak = appState.daysLocked.isLocked ? diffDays : 0;
      
      // Generate set of all locked days
      appState.daysLocked.lockedDays = new Set();
      let currentDate = new Date(startDate);
      
      while (currentDate <= endDate) {
        appState.daysLocked.lockedDays.add(currentDate.toISOString().split('T')[0]);
        currentDate.setDate(currentDate.getDate() + 1);
      }
      
      // Check milestones
      appState.daysLocked.milestones[1] = diffDays >= 1;
      appState.daysLocked.milestones[7] = diffDays >= 7;
      appState.daysLocked.milestones[30] = diffDays >= 30;
      appState.daysLocked.milestones[90] = diffDays >= 90;
    }

    function updateDaysLockedCounter() {
      document.getElementById('daysLockedCount').textContent = appState.daysLocked.totalDaysLocked;
      document.getElementById('streakProgress').textContent = `${appState.daysLocked.totalDaysLocked} days`;
      
      // Update progress bar (assuming 100 days is 100%)
      const progressPercentage = Math.min(appState.daysLocked.totalDaysLocked / 100 * 100, 100);
      document.getElementById('streakProgressFill').style.width = `${progressPercentage}%`;
    }

    function renderCalendar() {
      const year = calendarState.currentYear;
      const month = calendarState.currentMonth;
      
      const date = new Date(year, month, 1);
      const monthName = date.toLocaleString('default', { month: 'long' });
      
      document.getElementById('currentMonth').textContent = `${monthName} ${year}`;
      
      const firstDay = new Date(year, month, 1);
      const lastDay = new Date(year, month + 1, 0);
      const daysInMonth = lastDay.getDate();
      const startingDay = firstDay.getDay();
      
      const calendarGrid = document.getElementById('calendarGrid');
      calendarGrid.innerHTML = '';
      
      // Add weekday headers
      const weekdays = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
      weekdays.forEach(day => {
        const dayHeader = document.createElement('div');
        dayHeader.className = 'calendar-day-header';
        dayHeader.textContent = day;
        calendarGrid.appendChild(dayHeader);
      });
      
      // Add empty cells for days before the month starts
      const startingDayAdjusted = startingDay === 0 ? 6 : startingDay - 1;
      for (let i = 0; i < startingDayAdjusted; i++) {
        const emptyDay = document.createElement('div');
        emptyDay.className = 'calendar-day empty';
        calendarGrid.appendChild(emptyDay);
      }
      
      // Add days of the month
      const today = new Date();
      for (let day = 1; day <= daysInMonth; day++) {
        const dayElement = document.createElement('div');
        dayElement.className = 'calendar-day';
        dayElement.textContent = day;
        
        const dayDate = new Date(year, month, day);
        const dayString = dayDate.toISOString().split('T')[0];
        
        // Check if this day is locked
        if (appState.daysLocked.lockedDays.has(dayString)) {
          dayElement.classList.add('locked');
        }
        
        // Check if this is today
        if (dayDate.toDateString() === today.toDateString()) {
          dayElement.classList.add('current');
        }
        
        calendarGrid.appendChild(dayElement);
      }
    }

    function changeMonth(delta) {
      calendarState.currentMonth += delta;
      
      if (calendarState.currentMonth > 11) {
        calendarState.currentMonth = 0;
        calendarState.currentYear++;
      } else if (calendarState.currentMonth < 0) {
        calendarState.currentMonth = 11;
        calendarState.currentYear--;
      }
      
      renderCalendar();
    }

    function updateLockStatistics() {
      document.getElementById('totalDaysLocked').textContent = appState.daysLocked.totalDaysLocked;
      document.getElementById('currentStreak').textContent = appState.daysLocked.currentStreak;
      document.getElementById('longestStreak').textContent = appState.daysLocked.longestStreak;
      
      // Calculate percentage of year locked
      const daysInYear = 365;
      const percentLocked = Math.round((appState.daysLocked.totalDaysLocked / daysInYear) * 100);
      document.getElementById('lockPercentage').textContent = `${percentLocked}%`;
    }

    function updateLockMilestones() {
      const milestoneCards = document.querySelectorAll('#lockMilestones .achievement-card');
      
      milestoneCards.forEach(card => {
        const milestone = parseInt(card.dataset.milestone);
        if (appState.daysLocked.milestones[milestone]) {
          card.classList.add('unlocked');
        } else {
          card.classList.remove('unlocked');
        }
      });
    }

    function startLock() {
      if (appState.daysLocked.isLocked) {
        showNotification({
          title: 'Already Locked',
          message: 'You are already in a lock session!',
          type: 'warning',
          duration: 3000
        });
        return;
      }

      appState.daysLocked.isLocked = true;
      appState.daysLocked.startDate = new Date().toISOString();
      appState.daysLocked.endDate = null;
      
      document.getElementById('startLockBtn').style.display = 'none';
      document.getElementById('endLockBtn').style.display = 'inline-flex';
      
      // Update status bar
      document.querySelector('#chastityStatus .status-value').innerHTML = 'On <span class="status-indicator active"></span>';
      
      showNotification({
        title: 'Lock Started!',
        message: 'Your chastity lock session has begun. Good luck!',
        type: 'success',
        duration: 5000
      });
      
      updateDaysLockedTab();
      saveAppState();
    }

    function endLock() {
      if (!appState.daysLocked.isLocked) {
        showNotification({
          title: 'Not Locked',
          message: 'You are not currently in a lock session!',
          type: 'warning',
          duration: 3000
        });
        return;
      }

      appState.daysLocked.isLocked = false;
      appState.daysLocked.endDate = new Date().toISOString();
      
      // Update longest streak if needed
      if (appState.daysLocked.totalDaysLocked > appState.daysLocked.longestStreak) {
        appState.daysLocked.longestStreak = appState.daysLocked.totalDaysLocked;
      }
      
      document.getElementById('startLockBtn').style.display = 'inline-flex';
      document.getElementById('endLockBtn').style.display = 'none';
      
      // Update status bar
      document.querySelector('#chastityStatus .status-value').innerHTML = 'Off <span class="status-indicator inactive"></span>';
      
      showNotification({
        title: 'Lock Ended!',
        message: `Congratulations! You were locked for ${appState.daysLocked.totalDaysLocked} days!`,
        type: 'success',
        duration: 5000
      });
      
      updateDaysLockedTab();
      saveAppState();
    }

    // ===== PLACEHOLDER FUNCTIONS =====
    function updateTasks() {
      // Placeholder for tasks functionality
      console.log('Tasks updated');
    }

    function updateAchievements() {
      // Placeholder for achievements functionality
      console.log('Achievements updated');
    }

    function updateProfile() {
      // Placeholder for profile functionality
      console.log('Profile updated');
    }

    // ===== SAVE/LOAD STATE =====
    function saveAppState() {
      saveData('feminizer_app_state', appState);
    }

    function loadAppState() {
      const savedState = loadData('feminizer_app_state', null);
      if (savedState) {
        // Merge saved state with default state
        appState = { ...appState, ...savedState };
        
        // Convert Set objects back from arrays
        if (savedState.tasks && savedState.tasks.completed) {
          appState.tasks.completed = new Set(savedState.tasks.completed);
        }
        if (savedState.daysLocked && savedState.daysLocked.lockedDays) {
          appState.daysLocked.lockedDays = new Set(savedState.daysLocked.lockedDays);
        }
        if (savedState.achievements && savedState.achievements.unlocked) {
          appState.achievements.unlocked = new Set(savedState.achievements.unlocked);
        }
      }
    }

    // ===== INITIALIZATION =====
    document.addEventListener('DOMContentLoaded', function() {
      // Load saved state
      loadAppState();
      
      // Set initial active tab based on URL hash or default to dashboard
      const initialSection = window.location.hash ? window.location.hash.substring(1) : 'dashboard';
      showSection(initialSection);
      
      // Add click event listeners to all tabs
      document.querySelectorAll('.nav-tab').forEach(tab => {
        tab.addEventListener('click', function(e) {
          e.preventDefault();
          const sectionId = this.getAttribute('data-section');
          showSection(sectionId);
        });
      });
      
      // Add event listeners for calendar navigation
      document.getElementById('prevMonth').addEventListener('click', () => changeMonth(-1));
      document.getElementById('nextMonth').addEventListener('click', () => changeMonth(1));
      
      // Add event listeners for lock controls
      document.getElementById('startLockBtn').addEventListener('click', startLock);
      document.getElementById('endLockBtn').addEventListener('click', endLock);
      
      // Update button visibility based on current lock state
      if (appState.daysLocked.isLocked) {
        document.getElementById('startLockBtn').style.display = 'none';
        document.getElementById('endLockBtn').style.display = 'inline-flex';
        document.querySelector('#chastityStatus .status-value').innerHTML = 'On <span class="status-indicator active"></span>';
      }
      
      // Update the dashboard on initial load
      updateDashboard();
      
      // Initialize days locked tab if it's the active section
      if (initialSection === 'dayslocked') {
        updateDaysLockedTab();
      }
    });

    // Handle browser back/forward buttons
    window.addEventListener('popstate', function() {
      const sectionId = window.location.hash ? window.location.hash.substring(1) : 'dashboard';
      showSection(sectionId);
    });

    // Auto-save state periodically
    setInterval(saveAppState, 30000); // Save every 30 seconds
  </script>
</body>
</html>
